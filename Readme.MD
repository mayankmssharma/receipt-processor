# Receipt Points Calculator
 
 ## Overview

This is a FastAPI based application that calculates points from receipts based on specific rules. The application provides RESTful API endpoints to process receipts and fetch calculated points. This application is Dockerized for easy deployment.


## Requirements

- Docker (Start running docker before building the Docker image)

### Installation

1. Clone this repository:
```
git clone https://github.com/mayankmssharma/receipt-processor.git
```

2. Navigate to the project directory (append the path with wherever the project is cloned):

```
cd receipt-processor
```
3. Build the Docker image

```
docker build -t receipt-processor .
```

4. Run the Docker container

```
docker run -p 8000:80 receipt-processor
```


You can accesss the autogenerated API docs and try out the APIs at:
```
http://localhost:8000/docs
```

## Alternative way of running the application directly on local.

1. Make sure Python (3.9) is installed.
2. Make sure that you are in the root directory.
3. Install the requirements.txt

```
pip install -r requirements.txt"
```

4. Run the application
```
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000 
```

You can accesss the autogenerated API docs and try out the APIs at:
```
http://localhost:8000/docs
```

5. You can run the test using the following command.

```
pytest app/main.py
```


## API Endpoints

### POST `/receipts/process`

Process a new receipt and return its unique ID.


**Request Body:**
- retailer (str): Name of the retailer
- purchaseDate (str): Date of the purchase
- purchaseTime (str): Time of the purchase
- total (str): Total amount
- items (array): List of items purchased

**Response:**

Returns a JSON object containing the unique ID for the processed receipt.
